<!DOCTYPE html>
<html>
    <header>
        <title> Boozify </title>
        <link rel="icon" type="image/png" href="/static/images/favicon.png">
        <link rel="stylesheet" href="/static/css/web.css">
    </header>

    <script>
        var seedString;
        function SelectQueryType(clicked_id){
            document.getElementsByClassName("chooseOne")[0].innerHTML = clicked_id;
            document.getElementsByClassName("searchQuery")[0].disabled = false;
            // var xhr = new XMLHttpRequest();
            // xhr.open("POST", "/", true);
            // xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            // xhr.send("seed=" + clicked_id);
            seedString = "seed=" + clicked_id;
        }

        function SearchInput(){
            document.getElementById("power_hour").disabled = false;
            // var xhr = new XMLHttpRequest();
            // xhr.open("POST", "/", true);
            // xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            // xhr.send("search=" + document.getElementById('search').value);
        }

        function MakePowerHour(){
            var xhr = new XMLHttpRequest();
            // xhr.onreadystatechange = function() {
            //     if (this.readyState == 4 && this.status == 200) {
            //         alert('{{ link }}')
            //     }
            // }
            xhr.open("POST", "/", true);
            xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xhr.send(seedString + "&search=" + document.getElementById('search').value);
            alert("{{ link }}");
            // document.getElementById("player").src = "https://www.youtube.com/watch?v=IZWtHsM3Y5A";
            // document.getElementById("player").src = "{{ link }}";
            
            // xhr.onload = function(data) {
            //     //document.getElementById("player").src = "https://www.youtube.com/watch?v=IZWtHsM3Y5A";
            //     alert(data)
            // }
        }
    </script>



    <body style="background-color:darkslategrey">
        <div class="logo">
            <img class="boozify_logo" src="/static/images/logo2.png" width="400">
        </div>
        <div class="search">
            <div class="dropdown">
                <button class="chooseOne"> (Choose One)  </button>
                <div class="options">
                    <a id="Artist" href="#" onclick="SelectQueryType(this.id)">Artist</a>
                    <a id="Genre" href="#" onclick="SelectQueryType(this.id)">Genre</a>
                </div>
                
            </div>
            <div class="searchbar">
                <form>
                    <input class="searchQuery" type="text" id="search" disabled oninput="SearchInput()">
                </form>
            </div>
           
        </div>
        
        <div class="activate">
                <button id="power_hour" disabled onclick="MakePowerHour()">Make me a Power Hour!</button>
                <a id="link" value="{{ link }}">
                <p> "{{ link }}" </p>
        </div>

        <div class="video" >
            <iframe 
            id="player"
            src="" frameborder="0" gesture="media"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
        </iframe>
        </div>
    </body>
</html>
<!---->